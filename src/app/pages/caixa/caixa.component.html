<mat-card class="pedido-card">
    <h2>Caixa</h2>
    <mat-tab-group>
        <mat-tab label="Abertura / Fechamento Caixa">
            <form [formGroup]="AFCaixaForm" (ngSubmit)="salvarAFCaixa()">
                <br/>
                <mat-form-field class="preco-width">
                <mat-label>Saldo</mat-label>
                <input matInput formControlName="txtsaldo" readonly>
                </mat-form-field>
                &nbsp;
                <button mat-raised-button color="accent" type="submit">
                  {{ !statusCaixa ? 'Carregando...' : 
                    (statusCaixa.isopened ? 'Fechar Caixa' : 'Abrir Caixa')
                    }}
                </button>
            </form>
        </mat-tab>

        <mat-tab label="Sangria / Suprimento">
            <div class="p-4">
                <form [formGroup]="SSCaixaForm" (ngSubmit)="salvarMovimento()">
                    <br/>
                    <mat-form-field class="valor-width">
                        <mat-label>Valor </mat-label>
                        <input matInput formControlName="txtvalor" type="number">
                    </mat-form-field>
                    &nbsp;
                    <mat-form-field class="obs-width">
                        <mat-label>Observações</mat-label>
                        <input matInput formControlName="obs" />
                    </mat-form-field>
                    &nbsp;
                    <button mat-raised-button color="accent" type="submit" [disabled]="SSCaixaForm.invalid">
                    Salvar
                    </button>
                    *Utilizar sinal negativo (-) para sangria
                </form>
            </div>
        </mat-tab>

        <mat-tab label="Lançamentos">
            <div class="p-4">
                <form [formGroup]="LancamentosForm" (ngSubmit)="salvarLancamento()">
                    <br/>
                    <mat-form-field class="full-width">
                    <mat-label>Meio de Pagamento</mat-label>
                    <mat-select formControlName="meioPagamentoL"> 
                        <mat-option *ngFor="let meioPagamentoL of meioPagamentoL" [value]="meioPagamentoL.id">
                            {{ meioPagamentoL.nome }}
                        </mat-option>
                    </mat-select>
                    </mat-form-field>

                    <mat-form-field class="full-width">
                    <mat-label>Plano de Conta</mat-label>
                    <mat-select formControlName="planoConta">
                        <mat-option *ngFor="let planoConta of planoContas" [value]="planoConta.id" >
                        {{ planoConta.nome }} - {{ planoConta.tipo ? 'Débito' : 'Crédito' }}
                        </mat-option>
                    </mat-select>
                    </mat-form-field>
                    
                    <mat-form-field class="full-width">
                        <mat-label>Valor </mat-label>
                        <input matInput formControlName="txtvalor" type="number">
                    </mat-form-field>

                    <mat-form-field class="full-width">
                        <mat-label>Observações</mat-label>
                        <input matInput formControlName="obsL" />
                    </mat-form-field>

                    <button mat-raised-button color="accent" type="submit" [disabled]="LancamentosForm.invalid">
                    Salvar
                    </button>

                </form>
            </div>
        </mat-tab>

        <mat-tab label="Transferências">
            <div class="p-4">
                <form [formGroup]="TransferenciasForm" (ngSubmit)="salvarTransferencias()">
                    <br/>
                    <mat-form-field class="full-width">
                    <mat-label>DE --> Meio de Pagamento</mat-label>
                    <mat-select formControlName="meioPagamentoDE"> 
                        <mat-option *ngFor="let meioPagamentoDE of meioPagamentoDE" [value]="meioPagamentoDE.id">
                            {{ meioPagamentoDE.nome }}
                        </mat-option>
                    </mat-select>
                    </mat-form-field>
                    
                    <mat-form-field class="full-width">
                        <mat-label>Valor </mat-label>
                        <input matInput formControlName="txtvalorT" type="number">
                    </mat-form-field>

                    <mat-form-field class="full-width">
                    <mat-label>PARA --> Meio de Pagamento</mat-label>
                    <mat-select formControlName="meioPagamentoPARA"> 
                        <mat-option *ngFor="let meioPagamentoPARA of meioPagamentoPARA" [value]="meioPagamentoPARA.id">
                            {{ meioPagamentoPARA.nome }}
                        </mat-option>
                    </mat-select>
                    </mat-form-field>

                    <mat-form-field class="full-width">
                        <mat-label>Observações</mat-label>
                        <input matInput formControlName="obsT" />
                    </mat-form-field>

                    <button mat-raised-button color="accent" type="submit" [disabled]="TransferenciasForm.invalid">
                    Salvar
                    </button>

                </form>
            </div>
        </mat-tab>

    </mat-tab-group>
</mat-card>